{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VIVOBOOK\\\\Pictures\\\\studybuddy-lang\\\\frontend\\\\src\\\\components\\\\LessonEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LessonEdit() {\n  _s();\n  const [lesson, setLesson] = useState({\n    title: '',\n    description: '',\n    language: '',\n    difficulty_level: '',\n    content: {\n      text_fragments: [{\n        text: '',\n        translation: ''\n      }],\n      audio: [{\n        file: '',\n        description: ''\n      }],\n      video: [{\n        file: '',\n        description: ''\n      }],\n      pictures: [{\n        file: '',\n        description: ''\n      }]\n    },\n    vocabulary: [{\n      word: '',\n      translation: ''\n    }],\n    quiz: [{\n      question: '',\n      options: ['', '', '', ''],\n      correct_answer: 0\n    }]\n  });\n\n  // Функция для изменения основных данных урока\n  const handleLessonInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLesson({\n      ...lesson,\n      [name]: value\n    });\n  };\n\n  // Функция для изменения данных внутри вложенных массивов и объектов\n  const handleInputChangeInArray = (path, index, field, value) => {\n    const keys = path.split('.'); // Разделяем путь на части\n    let target = lesson;\n\n    // Пройдем по ключам, чтобы добраться до нужного массива или объекта\n    for (let key of keys.slice(0, -1)) {\n      target = target[key];\n    }\n\n    // Если target это массив, обновляем нужный элемент\n    if (Array.isArray(target[keys[keys.length - 1]])) {\n      if (field === '') {\n        target[keys[keys.length - 1]][index] = value;\n      } else {\n        target[keys[keys.length - 1]][index][field] = value;\n      }\n    } else if (typeof target[keys[keys.length - 1]] === 'object') {\n      target[keys[keys.length - 1]][field] = value;\n    }\n    setLesson({\n      ...lesson\n    });\n  };\n\n  // Функция для добавления нового элемента в массив (например, новый текстовый фрагмент или файл)\n  const handleAddItem = path => {\n    const keys = path.split('.'); // Разделяем путь на части\n    let target = lesson;\n\n    // Пройдем по ключам, чтобы добраться до нужного массива\n    for (let key of keys.slice(0, -1)) {\n      target = target[key];\n    }\n\n    // Проверяем, что это массив, и добавляем новый элемент\n    if (Array.isArray(target[keys[keys.length - 1]])) {\n      target[keys[keys.length - 1]].push({\n        text: '',\n        translation: ''\n      }); // Для текстовых фрагментов\n      setLesson({\n        ...lesson\n      });\n    }\n  };\n\n  // Функция для удаления элемента из массива\n  const handleRemoveItem = (path, index) => {\n    const keys = path.split('.'); // Разделяем путь на части\n    let target = lesson;\n\n    // Пройдем по ключам, чтобы добраться до нужного массива\n    for (let key of keys.slice(0, -1)) {\n      target = target[key];\n    }\n\n    // Проверяем, что это массив и удаляем элемент по индексу\n    if (Array.isArray(target[keys[keys.length - 1]])) {\n      target[keys[keys.length - 1]].splice(index, 1); // Удаляем элемент\n      setLesson({\n        ...lesson\n      });\n    }\n  };\n\n  // Функция для сохранения данных урока\n  const handleSaveLesson = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n\n    // Добавляем основные данные урока в форму\n    formData.append('title', lesson.title);\n    formData.append('description', lesson.description);\n    formData.append('language', lesson.language);\n    formData.append('difficulty_level', lesson.difficulty_level);\n\n    // Добавляем файлы (например, аудио)\n    lesson.content.audio.forEach(audio => {\n      if (audio.file instanceof File) {\n        formData.append('audio', audio.file); // Добавляем аудио файл\n      }\n    });\n\n    // Добавляем видео файлы\n    lesson.content.video.forEach(video => {\n      if (video.file instanceof File) {\n        formData.append('video', video.file); // Добавляем видео файл\n      }\n    });\n\n    // Добавляем изображения\n    lesson.content.pictures.forEach(picture => {\n      if (picture.file instanceof File) {\n        formData.append('pictures', picture.file); // Добавляем изображение\n      }\n    });\n\n    // Добавляем описания файлов\n    formData.append('audioDescriptions', JSON.stringify(lesson.content.audio.map(audio => audio.description)));\n    formData.append('videoDescriptions', JSON.stringify(lesson.content.video.map(video => video.description)));\n    formData.append('pictureDescriptions', JSON.stringify(lesson.content.pictures.map(picture => picture.description)));\n\n    // Добавляем текстовые фрагменты, словарь и викторину\n    formData.append('content', JSON.stringify({\n      text_fragments: lesson.content.text_fragments\n    }));\n    formData.append('vocabulary', JSON.stringify(lesson.vocabulary));\n    formData.append('quiz', JSON.stringify(lesson.quiz));\n\n    // Отправляем данные на сервер\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('http://localhost:5000/lessons', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Урок успешно сохранен!');\n    } catch (err) {\n      var _err$response;\n      console.error('Ошибка при сохранении урока:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      alert('Ошибка при сохранении урока');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSaveLesson,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: lesson.title,\n      onChange: handleLessonInputChange,\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"description\",\n      value: lesson.description,\n      onChange: handleLessonInputChange,\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0422\\u0435\\u043A\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435 \\u0444\\u0440\\u0430\\u0433\\u043C\\u0435\\u043D\\u0442\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), lesson.content.text_fragments.map((fragment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: fragment.text,\n        onChange: e => handleInputChangeInArray('content.text_fragments', index, 'text', e.target.value),\n        placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: fragment.translation,\n        onChange: e => handleInputChangeInArray('content.text_fragments', index, 'translation', e.target.value),\n        placeholder: \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleRemoveItem('content.text_fragments', index),\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => handleAddItem('content.text_fragments'),\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u043A\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0444\\u0440\\u0430\\u0433\\u043C\\u0435\\u043D\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(LessonEdit, \"iDRU+DyIDwxBCKzf5JdTK/M/k1Q=\");\n_c = LessonEdit;\nexport default LessonEdit;\nvar _c;\n$RefreshReg$(_c, \"LessonEdit\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","jsxDEV","_jsxDEV","LessonEdit","_s","lesson","setLesson","title","description","language","difficulty_level","content","text_fragments","text","translation","audio","file","video","pictures","vocabulary","word","quiz","question","options","correct_answer","handleLessonInputChange","e","name","value","target","handleInputChangeInArray","path","index","field","keys","split","key","slice","Array","isArray","length","handleAddItem","push","handleRemoveItem","splice","handleSaveLesson","preventDefault","formData","FormData","append","forEach","File","picture","JSON","stringify","map","token","localStorage","getItem","post","headers","Authorization","alert","err","_err$response","console","error","response","data","message","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","fragment","onClick","_c","$RefreshReg$"],"sources":["C:/Users/VIVOBOOK/Pictures/studybuddy-lang/frontend/src/components/LessonEdit.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nfunction LessonEdit() {\r\n  const [lesson, setLesson] = useState({\r\n    title: '',\r\n    description: '',\r\n    language: '',\r\n    difficulty_level: '',\r\n    content: {\r\n      text_fragments: [{ text: '', translation: '' }],\r\n      audio: [{ file: '', description: '' }],\r\n      video: [{ file: '', description: '' }],\r\n      pictures: [{ file: '', description: '' }],\r\n    },\r\n    vocabulary: [{ word: '', translation: '' }],\r\n    quiz: [{ question: '', options: ['', '', '', ''], correct_answer: 0 }],\r\n  });\r\n\r\n  // Функция для изменения основных данных урока\r\n  const handleLessonInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLesson({ ...lesson, [name]: value });\r\n  };\r\n\r\n  // Функция для изменения данных внутри вложенных массивов и объектов\r\n  const handleInputChangeInArray = (path, index, field, value) => {\r\n    const keys = path.split('.'); // Разделяем путь на части\r\n    let target = lesson;\r\n\r\n    // Пройдем по ключам, чтобы добраться до нужного массива или объекта\r\n    for (let key of keys.slice(0, -1)) {\r\n      target = target[key];\r\n    }\r\n\r\n    // Если target это массив, обновляем нужный элемент\r\n    if (Array.isArray(target[keys[keys.length - 1]])) {\r\n      if (field === '') {\r\n        target[keys[keys.length - 1]][index] = value;\r\n      } else {\r\n        target[keys[keys.length - 1]][index][field] = value;\r\n      }\r\n    } else if (typeof target[keys[keys.length - 1]] === 'object') {\r\n      target[keys[keys.length - 1]][field] = value;\r\n    }\r\n\r\n    setLesson({ ...lesson });\r\n  };\r\n\r\n  // Функция для добавления нового элемента в массив (например, новый текстовый фрагмент или файл)\r\n  const handleAddItem = (path) => {\r\n    const keys = path.split('.'); // Разделяем путь на части\r\n    let target = lesson;\r\n\r\n    // Пройдем по ключам, чтобы добраться до нужного массива\r\n    for (let key of keys.slice(0, -1)) {\r\n      target = target[key];\r\n    }\r\n\r\n    // Проверяем, что это массив, и добавляем новый элемент\r\n    if (Array.isArray(target[keys[keys.length - 1]])) {\r\n      target[keys[keys.length - 1]].push({ text: '', translation: '' }); // Для текстовых фрагментов\r\n      setLesson({ ...lesson });\r\n    }\r\n  };\r\n\r\n  // Функция для удаления элемента из массива\r\n  const handleRemoveItem = (path, index) => {\r\n    const keys = path.split('.'); // Разделяем путь на части\r\n    let target = lesson;\r\n\r\n    // Пройдем по ключам, чтобы добраться до нужного массива\r\n    for (let key of keys.slice(0, -1)) {\r\n      target = target[key];\r\n    }\r\n\r\n    // Проверяем, что это массив и удаляем элемент по индексу\r\n    if (Array.isArray(target[keys[keys.length - 1]])) {\r\n      target[keys[keys.length - 1]].splice(index, 1); // Удаляем элемент\r\n      setLesson({ ...lesson });\r\n    }\r\n  };\r\n\r\n  // Функция для сохранения данных урока\r\n  const handleSaveLesson = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    // Добавляем основные данные урока в форму\r\n    formData.append('title', lesson.title);\r\n    formData.append('description', lesson.description);\r\n    formData.append('language', lesson.language);\r\n    formData.append('difficulty_level', lesson.difficulty_level);\r\n\r\n    // Добавляем файлы (например, аудио)\r\n    lesson.content.audio.forEach((audio) => {\r\n      if (audio.file instanceof File) {\r\n        formData.append('audio', audio.file); // Добавляем аудио файл\r\n      }\r\n    });\r\n\r\n    // Добавляем видео файлы\r\n    lesson.content.video.forEach((video) => {\r\n      if (video.file instanceof File) {\r\n        formData.append('video', video.file); // Добавляем видео файл\r\n      }\r\n    });\r\n\r\n    // Добавляем изображения\r\n    lesson.content.pictures.forEach((picture) => {\r\n      if (picture.file instanceof File) {\r\n        formData.append('pictures', picture.file); // Добавляем изображение\r\n      }\r\n    });\r\n\r\n    // Добавляем описания файлов\r\n    formData.append('audioDescriptions', JSON.stringify(\r\n      lesson.content.audio.map(audio => audio.description)\r\n    ));\r\n    formData.append('videoDescriptions', JSON.stringify(\r\n      lesson.content.video.map(video => video.description)\r\n    ));\r\n    formData.append('pictureDescriptions', JSON.stringify(\r\n      lesson.content.pictures.map(picture => picture.description)\r\n    ));\r\n\r\n    // Добавляем текстовые фрагменты, словарь и викторину\r\n    formData.append('content', JSON.stringify({\r\n      text_fragments: lesson.content.text_fragments,\r\n    }));\r\n    formData.append('vocabulary', JSON.stringify(lesson.vocabulary));\r\n    formData.append('quiz', JSON.stringify(lesson.quiz));\r\n\r\n    // Отправляем данные на сервер\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.post('http://localhost:5000/lessons', formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      alert('Урок успешно сохранен!');\r\n    } catch (err) {\r\n      console.error('Ошибка при сохранении урока:', err.response?.data || err.message);\r\n      alert('Ошибка при сохранении урока');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSaveLesson}>\r\n      <h2>Редактировать урок</h2>\r\n\r\n      {/* Поля для ввода основного контента */}\r\n      <input\r\n        type=\"text\"\r\n        name=\"title\"\r\n        value={lesson.title}\r\n        onChange={handleLessonInputChange}\r\n        placeholder=\"Название урока\"\r\n      />\r\n      <textarea\r\n        name=\"description\"\r\n        value={lesson.description}\r\n        onChange={handleLessonInputChange}\r\n        placeholder=\"Описание урока\"\r\n      ></textarea>\r\n\r\n      {/* Текстовые фрагменты */}\r\n      <h3>Текстовые фрагменты</h3>\r\n      {lesson.content.text_fragments.map((fragment, index) => (\r\n        <div key={index}>\r\n          <input\r\n            type=\"text\"\r\n            value={fragment.text}\r\n            onChange={(e) =>\r\n              handleInputChangeInArray('content.text_fragments', index, 'text', e.target.value)\r\n            }\r\n            placeholder=\"Текст\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            value={fragment.translation}\r\n            onChange={(e) =>\r\n              handleInputChangeInArray('content.text_fragments', index, 'translation', e.target.value)\r\n            }\r\n            placeholder=\"Перевод\"\r\n          />\r\n          <button type=\"button\" onClick={() => handleRemoveItem('content.text_fragments', index)}>\r\n            Удалить\r\n          </button>\r\n        </div>\r\n      ))}\r\n      <button type=\"button\" onClick={() => handleAddItem('content.text_fragments')}>\r\n        Добавить текстовый фрагмент\r\n      </button>\r\n\r\n      {/* Дальше можно добавить аналогичные секции для аудио, видео, картинок, викторины и т.д. */}\r\n\r\n      <button type=\"submit\">Сохранить урок</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default LessonEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}